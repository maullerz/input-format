{"version":3,"file":"format.test.js","names":["expect","format","template_formatter","describe","it","formatter","test_caret_position","digit_index","caret_in_formatted","to","deep","equal","text","caret","undefined"],"sources":["../source/format.test.js"],"sourcesContent":["import { expect } from 'chai'\n\nimport format from './format.js'\nimport template_formatter from './templateFormatter.js'\n\ndescribe(`format`, function()\n{\n\tit(`should format phone numbers`, function()\n\t{\n\t\tconst formatter = template_formatter('(xxx) xxx-xx-xx')\n\n\t\tconst test_caret_position = (digit_index, caret_in_formatted) =>\n\t\t{\n\t\t\texpect(format\n\t\t\t(\n\t\t\t\t'8005553535',\n\t\t\t\tdigit_index,\n\t\t\t\tformatter\n\t\t\t))\n\t\t\t.to.deep.equal\n\t\t\t({\n\t\t\t\ttext: '(800) 555-35-35',\n\t\t\t\tcaret: caret_in_formatted\n\t\t\t})\n\t\t}\n\n\t\ttest_caret_position(0, 1)\n\t\ttest_caret_position(1, 2)\n\t\ttest_caret_position(2, 3)\n\n\t\ttest_caret_position(3, 6)\n\t\ttest_caret_position(4, 7)\n\t\ttest_caret_position(5, 8)\n\n\t\ttest_caret_position(6, 10)\n\t\ttest_caret_position(7, 11)\n\n\t\ttest_caret_position(8, 13)\n\t\ttest_caret_position(9, 14)\n\n\t\t// After the last digit\n\t\ttest_caret_position(10, 15)\n\t})\n\n\tit('should autoconstruct template formatter from a template', function()\n\t{\n\t\texpect(format\n\t\t(\n\t\t\t'8005553535',\n\t\t\t0,\n\t\t\t'(xxx) xxx-xx-xx'\n\t\t))\n\t\t.to.deep.equal\n\t\t({\n\t\t\ttext: '(800) 555-35-35',\n\t\t\tcaret: 1\n\t\t})\n\t})\n\n\tit('should format value with no caret position', function()\n\t{\n\t\texpect(format\n\t\t(\n\t\t\t'8005553535',\n\t\t\tundefined,\n\t\t\t'(xxx) xxx-xx-xx'\n\t\t))\n\t\t.to.deep.equal\n\t\t({\n\t\t\ttext: '(800) 555-35-35',\n\t\t\tcaret: 15\n\t\t})\n\t})\n\n\tit('should format value with no template preserving caret position', function()\n\t{\n\t\texpect(format\n\t\t(\n\t\t\t'8005553535',\n\t\t\t2,\n\t\t\t// () => { text: '8005553535' }\n\t\t\t() => {}\n\t\t))\n\t\t.to.deep.equal\n\t\t({\n\t\t\ttext: '8005553535',\n\t\t\tcaret: 2\n\t\t})\n\t})\n\n\t// it('should position caret correctly with partially filled templates using spacers', function()\n\t// {\n\t// \texpect(format\n\t// \t({\n\t// \t\t'88005',\n\t// \t\t0\n\t// \t},\n\t// \t(value) =>\n\t// \t{\n\t// \t\tconst result =\n\t// \t\t{\n\t// \t\t\t'8 (800) 5  -  -  ',\n\t// \t\t\ttemplate: 'x (xxx) xxx-xx-xx'\n\t// \t\t}\n\t//\n\t// \t\treturn result\n\t// \t})\n\t// \t.to.deep.equal\n\t// \t({\n\t// \t\ttext: '(800) 555-35-35',\n\t// \t\tcaret: 1\n\t// \t})\n\t// })\n})"],"mappings":"AAAA,SAASA,MAAT,QAAuB,MAAvB;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,kBAAP,MAA+B,wBAA/B;AAEAC,QAAQ,WAAW,YACnB;EACCC,EAAE,gCAAgC,YAClC;IACC,MAAMC,SAAS,GAAGH,kBAAkB,CAAC,iBAAD,CAApC;;IAEA,MAAMI,mBAAmB,GAAG,CAACC,WAAD,EAAcC,kBAAd,KAC5B;MACCR,MAAM,CAACC,MAAM,CAEZ,YAFY,EAGZM,WAHY,EAIZF,SAJY,CAAP,CAAN,CAMCI,EAND,CAMIC,IANJ,CAMSC,KANT,CAOC;QACAC,IAAI,EAAE,iBADN;QAEAC,KAAK,EAAEL;MAFP,CAPD;IAWA,CAbD;;IAeAF,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IAEAA,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,CAAJ,CAAnB;IAEAA,mBAAmB,CAAC,CAAD,EAAI,EAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,EAAJ,CAAnB;IAEAA,mBAAmB,CAAC,CAAD,EAAI,EAAJ,CAAnB;IACAA,mBAAmB,CAAC,CAAD,EAAI,EAAJ,CAAnB,CA9BD,CAgCC;;IACAA,mBAAmB,CAAC,EAAD,EAAK,EAAL,CAAnB;EACA,CAnCC,CAAF;EAqCAF,EAAE,CAAC,yDAAD,EAA4D,YAC9D;IACCJ,MAAM,CAACC,MAAM,CAEZ,YAFY,EAGZ,CAHY,EAIZ,iBAJY,CAAP,CAAN,CAMCQ,EAND,CAMIC,IANJ,CAMSC,KANT,CAOC;MACAC,IAAI,EAAE,iBADN;MAEAC,KAAK,EAAE;IAFP,CAPD;EAWA,CAbC,CAAF;EAeAT,EAAE,CAAC,4CAAD,EAA+C,YACjD;IACCJ,MAAM,CAACC,MAAM,CAEZ,YAFY,EAGZa,SAHY,EAIZ,iBAJY,CAAP,CAAN,CAMCL,EAND,CAMIC,IANJ,CAMSC,KANT,CAOC;MACAC,IAAI,EAAE,iBADN;MAEAC,KAAK,EAAE;IAFP,CAPD;EAWA,CAbC,CAAF;EAeAT,EAAE,CAAC,gEAAD,EAAmE,YACrE;IACCJ,MAAM,CAACC,MAAM,CAEZ,YAFY,EAGZ,CAHY,EAIZ;IACA,MAAM,CAAE,CALI,CAAP,CAAN,CAOCQ,EAPD,CAOIC,IAPJ,CAOSC,KAPT,CAQC;MACAC,IAAI,EAAE,YADN;MAEAC,KAAK,EAAE;IAFP,CARD;EAYA,CAdC,CAAF,CApED,CAoFC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA,CA5GO,CAAR"}