{"version":3,"file":"Input.js","names":["Input","ref","value","parse","format","inputComponent","InputComponent","onChange","onKeyDown","rest","internalRef","useRef","setRef","useCallback","instance","current","_onChange","event","onInputChange","_onKeyDown","onInputKeyDown","isEmptyValue","text","React","forwardRef","propTypes","PropTypes","func","isRequired","elementType","type","string","onCut","onPaste","defaultProps","undefined"],"sources":["../../source/react/Input.js"],"sourcesContent":["// This is just `./ReactInput.js` rewritten in Hooks.\n\nimport React, { useCallback, useRef } from 'react'\nimport PropTypes from 'prop-types'\n\nimport {\n\tonChange as onInputChange,\n\tonKeyDown as onInputKeyDown\n} from '../inputControl.js'\n\n// Usage:\n//\n// <ReactInput\n// \tvalue={this.state.phone}\n// \tonChange={phone => this.setState({ phone })}\n// \tparse={character => character}\n// \tformat={value => ({ text: value, template: 'xxxxxxxx' })}/>\n//\nfunction Input({\n\tvalue,\n\tparse,\n\tformat,\n\tinputComponent: InputComponent,\n\tonChange,\n\tonKeyDown,\n\t...rest\n}, ref) {\n\tconst internalRef = useRef();\n\tconst setRef = useCallback((instance) => {\n\t\tinternalRef.current = instance;\n\t\tif (ref) {\n\t\t\tif (typeof ref === 'function') {\n\t\t\t\tref(instance)\n\t\t\t} else {\n\t\t\t\tref.current = instance\n\t\t\t}\n\t\t}\n\t}, [ref]);\n\tconst _onChange = useCallback((event) => {\n\t\treturn onInputChange(\n\t\t\tevent,\n\t\t\tinternalRef.current,\n\t\t\tparse,\n\t\t\tformat,\n\t\t\tonChange\n\t\t)\n\t}, [internalRef, parse, format, onChange])\n\n\tconst _onKeyDown = useCallback((event) => {\n\t\tif (onKeyDown) {\n\t\t\tonKeyDown(event)\n\t\t}\n\t\treturn onInputKeyDown(\n\t\t\tevent,\n\t\t\tinternalRef.current,\n\t\t\tparse,\n\t\t\tformat,\n\t\t\tonChange\n\t\t)\n\t}, [internalRef, parse, format, onChange, onKeyDown])\n\n\treturn (\n\t\t<InputComponent\n\t\t\t{...rest}\n\t\t\tref={setRef}\n\t\t\tvalue={format(isEmptyValue(value) ? '' : value).text}\n\t\t\tonKeyDown={_onKeyDown}\n\t\t\tonChange={_onChange}/>\n\t)\n}\n\nInput = React.forwardRef(Input)\n\nInput.propTypes = {\n\t// Parses a single characher of `<input/>` text.\n\tparse: PropTypes.func.isRequired,\n\n\t// Formats `value` into `<input/>` text.\n\tformat: PropTypes.func.isRequired,\n\n\t// Renders `<input/>` by default.\n\tinputComponent: PropTypes.elementType.isRequired,\n\n\t// `<input/>` `type` attribute.\n\ttype: PropTypes.string.isRequired,\n\n\t// Is parsed from <input/> text.\n\tvalue: PropTypes.string,\n\n\t// This handler is called each time `<input/>` text is changed.\n\tonChange: PropTypes.func.isRequired,\n\n\t// Passthrough\n\tonKeyDown: PropTypes.func,\n\tonCut: PropTypes.func,\n\tonPaste: PropTypes.func\n}\n\nInput.defaultProps = {\n\t// Renders `<input/>` by default.\n\tinputComponent: 'input',\n\n\t// `<input/>` `type` attribute.\n\ttype: 'text'\n}\n\nexport default Input\n\nfunction isEmptyValue(value) {\n\treturn value === undefined || value === null\n}"],"mappings":";;;;;;;AAEA;;AACA;;AAEA;;;;;;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,KAAT,OAQGC,GARH,EAQQ;EAAA,IARO;IACdC,KADc;IAEdC,KAFc;IAGdC,MAHc;IAIdC,cAAc,EAAEC,cAJF;IAKdC,QALc;IAMdC,SANc;IAOd,GAAGC;EAPW,CAQP;EACP,MAAMC,WAAW,GAAG,IAAAC,aAAA,GAApB;EACA,MAAMC,MAAM,GAAG,IAAAC,kBAAA,EAAaC,QAAD,IAAc;IACxCJ,WAAW,CAACK,OAAZ,GAAsBD,QAAtB;;IACA,IAAIb,GAAJ,EAAS;MACR,IAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;QAC9BA,GAAG,CAACa,QAAD,CAAH;MACA,CAFD,MAEO;QACNb,GAAG,CAACc,OAAJ,GAAcD,QAAd;MACA;IACD;EACD,CATc,EASZ,CAACb,GAAD,CATY,CAAf;;EAUA,MAAMe,SAAS,GAAG,IAAAH,kBAAA,EAAaI,KAAD,IAAW;IACxC,OAAO,IAAAC,sBAAA,EACND,KADM,EAENP,WAAW,CAACK,OAFN,EAGNZ,KAHM,EAINC,MAJM,EAKNG,QALM,CAAP;EAOA,CARiB,EAQf,CAACG,WAAD,EAAcP,KAAd,EAAqBC,MAArB,EAA6BG,QAA7B,CARe,CAAlB;;EAUA,MAAMY,UAAU,GAAG,IAAAN,kBAAA,EAAaI,KAAD,IAAW;IACzC,IAAIT,SAAJ,EAAe;MACdA,SAAS,CAACS,KAAD,CAAT;IACA;;IACD,OAAO,IAAAG,uBAAA,EACNH,KADM,EAENP,WAAW,CAACK,OAFN,EAGNZ,KAHM,EAINC,MAJM,EAKNG,QALM,CAAP;EAOA,CAXkB,EAWhB,CAACG,WAAD,EAAcP,KAAd,EAAqBC,MAArB,EAA6BG,QAA7B,EAAuCC,SAAvC,CAXgB,CAAnB;;EAaA,oBACC,6BAAC,cAAD,eACKC,IADL;IAEC,GAAG,EAAEG,MAFN;IAGC,KAAK,EAAER,MAAM,CAACiB,YAAY,CAACnB,KAAD,CAAZ,GAAsB,EAAtB,GAA2BA,KAA5B,CAAN,CAAyCoB,IAHjD;IAIC,SAAS,EAAEH,UAJZ;IAKC,QAAQ,EAAEH;EALX,GADD;AAQA;;AAEDhB,KAAK,gBAAGuB,cAAA,CAAMC,UAAN,CAAiBxB,KAAjB,CAAR;AAEAA,KAAK,CAACyB,SAAN,GAAkB;EACjB;EACAtB,KAAK,EAAEuB,kBAAA,CAAUC,IAAV,CAAeC,UAFL;EAIjB;EACAxB,MAAM,EAAEsB,kBAAA,CAAUC,IAAV,CAAeC,UALN;EAOjB;EACAvB,cAAc,EAAEqB,kBAAA,CAAUG,WAAV,CAAsBD,UARrB;EAUjB;EACAE,IAAI,EAAEJ,kBAAA,CAAUK,MAAV,CAAiBH,UAXN;EAajB;EACA1B,KAAK,EAAEwB,kBAAA,CAAUK,MAdA;EAgBjB;EACAxB,QAAQ,EAAEmB,kBAAA,CAAUC,IAAV,CAAeC,UAjBR;EAmBjB;EACApB,SAAS,EAAEkB,kBAAA,CAAUC,IApBJ;EAqBjBK,KAAK,EAAEN,kBAAA,CAAUC,IArBA;EAsBjBM,OAAO,EAAEP,kBAAA,CAAUC;AAtBF,CAAlB;AAyBA3B,KAAK,CAACkC,YAAN,GAAqB;EACpB;EACA7B,cAAc,EAAE,OAFI;EAIpB;EACAyB,IAAI,EAAE;AALc,CAArB;eAQe9B,K;;;AAEf,SAASqB,YAAT,CAAsBnB,KAAtB,EAA6B;EAC5B,OAAOA,KAAK,KAAKiC,SAAV,IAAuBjC,KAAK,KAAK,IAAxC;AACA"}